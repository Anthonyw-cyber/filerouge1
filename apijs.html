<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JS</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="stylessheet.css"/>
    <script> </script>
</head>
<body class="couleurFond">

<div   class="api" style="
margin-top: 100px;"> </div>

<script>



    function gererDesFilm(films,div){
        for(let i=0 ;i<films.length;i++) {
            let p = document.createElement("p")
            let d = document.createElement("div")
            let img= document.createElement("img")
            let m = document.createElement("p")
            p.textContent = films[i].nom
            p.style.marginTop = "50px";
            m.textContent = films[i].music
            m.style.marginTop="50px";
            img.textcontent= films[i].image
            img.setAttribute("src",img.textcontent)
            img.style.marginTop = "50px";
            img.style.width = "400px";

            d.appendChild(p)
            d.appendChild(m)
            div.appendChild(img)
            div.appendChild(d)


            console.log(d)
            console.log(p)
        }
    }
    request = new XMLHttpRequest()
    request.open('GET', "http://localhost:8888/api2.php", false)
    request.send(null)
    let films = JSON.parse(request.responseText)
    let divApi = document.querySelector(".api")
    gererDesFilm(films,divApi)



</script>
</button>
<div class="container">
    <h5>Ajouter une music </h5>
    <form class="form-horizontal">
        <div class="form-group">
            <label class="control-label col-sm-2" for="filmes">Id du film</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" class="fichier" id="filmes" placeholder="id du film existant " name="film">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-sm-2" for="musics">music</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" class="fichier"id="musics" placeholder="nom de la music" name="music">
            </div>

            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <button type="submit" class="btn btn-primary" id="btn">Submit</button>
                </div>

            </div>
    </form>
</div>

</div>
<script type="text/javascript"  src="envoiedonner.js"></script>
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
</body>
</html>